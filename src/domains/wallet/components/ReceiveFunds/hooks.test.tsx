/* eslint-disable @typescript-eslint/require-await */
import { renderHook } from "@testing-library/react-hooks";

import { useQRCode } from "./hooks";
import * as themeUtils from "@/utils/theme";
import { waitFor } from "@/utils/testing-library";

const QRCode = {
	dark: "data:image/png;base64,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",
	light: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAAAklEQVR4AewaftIAAA2OSURBVO3BYWplMa5G0R2TiZRENP/xCKSp5BU09A/jAl/c51bK71vr45d9ffNDdSXvZB6sdCUz82ClK/mpzINZV/IE82ClK9llHjyhK9llHqx0JSvmwU80EJHrDUTkegMRud5ARK43EJHrffIHXck7mQdPMA9OmQezrmTFPJh1JSvmwa6uZMU8eIJ5cKIreYV5MOtKVsyDXV3JLvNg1pWc6kreyTyYDUTkegMRud5ARK43EJHrDUTkep+8yDw40ZWcMg9mXclKV7JiHjyhK5mZBytdycw8eEVX8rd1JbvMg3cyD2ZdyU9gHpzoSnYNROR6AxG53kBErjcQket9cjnzYKUrmZkHK13Jia7kKebBrCtZMQ9mXcmurmTFPNjVlayYBzPzYKUreRfzYKUr+ZcMROR6AxG53kBErjcQkesNROR6n8h/dSWnzIMTXcmKebDLPNhlHuwyD1a6kpl58FOZB//fDETkegMRud5ARK43EJHrffKiruQnMg9OmQe7upJdXcmKebCrK1kxD2ZdySnz4ERX8oqu5F26kp+gK3mXgYhcbyAi1xuIyPUGInK9gYhc75M/MA/+JV3JinlwqiuZmQcrXcnMPFjpSmbmwUpXcso8mHUlu7qSFfNg1pWsmAcrXcnMPFjpSmbmwUpXMjMPVrqSmXmw0pXsMg/+toGIXG8gItcbiMj1BiJyvY/v3/jHmAezrmTFPNjVlayYB7OuZMU8mHUlp8yDXV3JKfPgnbqSE+bBrq5kxTyYdSU3GIjI9QYicr2BiFxvICLXG4jI9T5+2dc3C13JinnwLl3JLvNgpStZMQ9mXckTzINdXckrzIN36UpWzINZV/IK8+BEV7LLPFjpSk6ZB+/SlewaiMj1BiJyvYGIXG8gItf7+P6NNzIPVrqSE+bBSldyyjyYdSVPMA9WupIV82BXV7LLPNjVlZwyD57QlewyD051JTPzYKUr2WUenBiIyPUGInK9gYhcbyAi1xuIyPU+vn/jBebBu3QlK+bBrCt5hXkw60reyTyYdSUr5sFKVzIzD3Z1JSvmwYmu5BXmwawrOWUe7OpKTpkHu7qSE+bBSlcyG4jI9QYicr2BiFxvICLXG4jI9T75A/NgV1eyyzxY6Upm5sEp82CXebDSlTyhK9nVlZzqSv4282ClK5mZBytdycw8WOlKTpgHr+hKdpkH7zIQkesNROR6AxG53kBErvfx/RsvMA9OdCUr5sGurmRmHpzqSv428+AVXcku8+AJXcnMPFjpSlbMgxNdyYp5MOtKVsyDWVeyYh6sdCUz82ClK9llHuzqSmYDEbneQESuNxCR6w1E5HoDEbnexy/7+uYFXcnMPNjVlewyD57SlewyD2ZdySnzYNaVPMU82NWVzMyDla5kl3lwqiuZmQcrXcku8+BUV3LCPHjCQESuNxCR6w1E5HoDEbnexy/7+mahK9llHqx0JbvMg1lXsmIe7OpKVsyDWVeyyzxY6Upm5sGprmTFPPiXdCUr5sGJrmTFPHhCV7JiHuzqSnaZB7OuZNdARK43EJHrDUTkegMRud5ARK73yZuZBytdya6uZGYePMU8mHUlp7qSXebBSleyyzyYdSW7zINdXcmKebCrK9llHjyhK3mKefAuAxG53kBErjcQkesNROR6H7/s65uFrmTFPNjVlczMg1NdyTuZBz9VVzIzD1a6kl3mwa6u5JR5MOtKnmAerHQlu8yDXV3JLvNgpSuZmQe7BiJyvYGIXG8gItcbiMj1BiJyvY/v31gwD57QlewyD051JbvMg1Ndycw8WOlK/iXmwUpXMjMPfqquZMU82NWV7DIP/raBiFxvICLXG4jI9QYicr2PX/b1zQu6kpl5sNKVzMyDU13JzDxY6Up2mQcrXcnMPFjpSnaZB/+SruSUebDSlTzBPNjVlewyD051JSfMg5WuZDYQkesNROR6AxG53kBErjcQket9diUr5sGKefCEruSdzINd5sETupJd5sFKV3LCPDhlHpwyD/4282DWlbyiK5mZByvmwbsMROR6AxG53kBErjcQkesNROR6H7/s65uFrmSXefBTdSUr5sGurmRmHsh/dCWnzIMTXcmKebCrK5mZBz9BVzIzD1a6ktlARK43EJHrDUTkegMRud4n/wNdyYp5MOtKTpkHT+hKVsyDE13JinmwqytZMQ9mXckp8+AJ5sETzINdXcmpruSUeTDrSp4wEJHrDUTkegMRud5ARK43EJHrffI/YB6cMg9mXcmurmTFPDjVlTyhK5mZByvmwSnzYNaV/FRdyS7zYKUrmZkHTzEPZl3JKfPgxEBErjcQkesNROR6AxG53mdXsmIe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",
};

const renderQRCode = () =>
	renderHook(() =>
		useQRCode({
			address: "D8rr7B1d6TL6pf14LgMz4sKp1VBMs6YUYD",
			amount: "10",
			coin: "ARK",
			memo: "test",
			network: "ark",
		}),
	);

describe("useQRCode hook", () => {
	let darkModeSpy: jest.SpyInstance;

	beforeAll(() => {
		Object.defineProperty(window, "location", {
			value: {
				origin: "example.com",
			},
		});
	});

	beforeEach(() => {
		darkModeSpy = jest.spyOn(themeUtils, "shouldUseDarkColors").mockReturnValue(false);
	});

	afterEach(() => {
		darkModeSpy.mockRestore();
	});

	it.each([false, true])("should generate qr code in darkMode = %s", async (shouldUseDarkColors) => {
		const themeSpy = jest.spyOn(themeUtils, "shouldUseDarkColors").mockReturnValue(shouldUseDarkColors);

		const { result, waitForNextUpdate } = renderQRCode();

		await waitForNextUpdate();

		await waitFor(() =>
			expect(result.current.uri).toBe(
				"example.com/#/?amount=10&coin=ARK&memo=test&method=transfer&network=ark&recipient=D8rr7B1d6TL6pf14LgMz4sKp1VBMs6YUYD",
			),
		);

		expect(result.current.image).toStrictEqual(shouldUseDarkColors ? QRCode.dark : QRCode.light);

		themeSpy.mockRestore();
	});

	it("should generate qr code with dark colors", async () => {
		const { result, waitForNextUpdate } = renderQRCode();

		await waitForNextUpdate();

		const darkColorsMock = jest.spyOn(themeUtils, "shouldUseDarkColors").mockReturnValue(true);

		// eslint-disable-next-line sonarjs/no-identical-functions
		await waitFor(() =>
			expect(result.current.uri).toBe(
				"example.com/#/?amount=10&coin=ARK&memo=test&method=transfer&network=ark&recipient=D8rr7B1d6TL6pf14LgMz4sKp1VBMs6YUYD",
			),
		);

		expect(result.current.image).toBe(
			"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAAAklEQVR4AewaftIAAA2OSURBVO3BYWplMa5G0R2TiZRENP/xCKSp5BU09A/jAl/c51bK71vr45d9ffNDdSXvZB6sdCUz82ClK/mpzINZV/IE82ClK9llHjyhK9llHqx0JSvmwU80EJHrDUTkegMRud5ARK43EJHrffIHXck7mQdPMA9OmQezrmTFPJh1JSvmwa6uZMU8eIJ5cKIreYV5MOtKVsyDXV3JLvNg1pWc6kreyTyYDUTkegMRud5ARK43EJHrDUTkep+8yDw40ZWcMg9mXclKV7JiHjyhK5mZBytdycw8eEVX8rd1JbvMg3cyD2ZdyU9gHpzoSnYNROR6AxG53kBErjcQket9cjnzYKUrmZkHK13Jia7kKebBrCtZMQ9mXcmurmTFPNjVlayYBzPzYKUreRfzYKUr+ZcMROR6AxG53kBErjcQkesNROR6n8h/dSWnzIMTXcmKebDLPNhlHuwyD1a6kpl58FOZB//fDETkegMRud5ARK43EJHrffKiruQnMg9OmQe7upJdXcmKebCrK1kxD2ZdySnz4ERX8oqu5F26kp+gK3mXgYhcbyAi1xuIyPUGInK9gYhc75M/MA/+JV3JinlwqiuZmQcrXcnMPFjpSmbmwUpXcso8mHUlu7qSFfNg1pWsmAcrXcnMPFjpSmbmwUpXMjMPVrqSmXmw0pXsMg/+toGIXG8gItcbiMj1BiJyvY/v3/jHmAezrmTFPNjVlayYB7OuZMU8mHUlp8yDXV3JKfPgnbqSE+bBrq5kxTyYdSU3GIjI9QYicr2BiFxvICLXG4jI9T5+2dc3C13JinnwLl3JLvNgpStZMQ9mXckTzINdXckrzIN36UpWzINZV/IK8+BEV7LLPFjpSk6ZB+/SlewaiMj1BiJyvYGIXG8gItf7+P6NNzIPVrqSE+bBSldyyjyYdSVPMA9WupIV82BXV7LLPNjVlZwyD57QlewyD051JTPzYKUr2WUenBiIyPUGInK9gYhcbyAi1xuIyPU+vn/jBebBu3QlK+bBrCt5hXkw60reyTyYdSUr5sFKVzIzD3Z1JSvmwYmu5BXmwawrOWUe7OpKTpkHu7qSE+bBSlcyG4jI9QYicr2BiFxvICLXG4jI9T75A/NgV1eyyzxY6Upm5sEp82CXebDSlTyhK9nVlZzqSv4282ClK5mZBytdycw8WOlKTpgHr+hKdpkH7zIQkesNROR6AxG53kBErvfx/RsvMA9OdCUr5sGurmRmHpzqSv428+AVXcku8+AJXcnMPFjpSlbMgxNdyYp5MOtKVsyDWVeyYh6sdCUz82ClK9llHuzqSmYDEbneQESuNxCR6w1E5HoDEbnexy/7+uYFXcnMPNjVlewyD57SlewyD2ZdySnzYNaVPMU82NWVzMyDla5kl3lwqiuZmQcrXcku8+BUV3LCPHjCQESuNxCR6w1E5HoDEbnexy/7+mahK9llHqx0JbvMg1lXsmIe7OpKVsyDWVeyyzxY6Upm5sGprmTFPPiXdCUr5sGJrmTFPHhCV7JiHuzqSnaZB7OuZNdARK43EJHrDUTkegMRud5ARK73yZuZBytdya6uZGYePMU8mHUlp7qSXebBSleyyzyYdSW7zINdXcmKebCrK9llHjyhK3mKefAuAxG53kBErjcQkesNROR6H7/s65uFrmTFPNjVlczMg1NdyTuZBz9VVzIzD1a6kl3mwa6u5JR5MOtKnmAerHQlu8yDXV3JLvNgpSuZmQe7BiJyvYGIXG8gItcbiMj1BiJyvY/v31gwD57QlewyD051JbvMg1Ndycw8WOlK/iXmwUpXMjMPfqquZMU82NWV7DIP/raBiFxvICLXG4jI9QYicr2PX/b1zQu6kpl5sNKVzMyDU13JzDxY6Up2mQcrXcnMPFjpSnaZB/+SruSUebDSlTzBPNjVlewyD051JSfMg5WuZDYQkesNROR6AxG53kBErjcQket9diUr5sGKefCEruSdzINd5sETupJd5sFKV3LCPDhlHpwyD/4282DWlbyiK5mZByvmwbsMROR6AxG53kBErjcQkesNROR6H7/s65uFrmSXefBTdSUr5sGurmRmHsh/dCWnzIMTXcmKebCrK5mZBz9BVzIzD1a6ktlARK43EJHrDUTkegMRud4n/wNdyYp5MOtKTpkHT+hKVsyDE13JinmwqytZMQ9mXckp8+AJ5sETzINdXcmpruSUeTDrSp4wEJHrDUTkegMRud5ARK43EJHrffI/YB6cMg9mXcmurmTFPDjVlTyhK5mZByvmwSnzYNaV/FRdyS7zYKUrmZkHTzEPZl3JKfPgxEBErjcQkesNROR6AxG53mdXsmIe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",
		);

		darkColorsMock.mockRestore();
	});

	it("should generate without amount and memo", async () => {
		const { result, waitForNextUpdate } = renderHook(() =>
			useQRCode({
				address: "D8rr7B1d6TL6pf14LgMz4sKp1VBMs6YUYD",
				coin: "ARK",
				network: "ark",
			} as any),
		);

		await waitForNextUpdate();

		await waitFor(() =>
			expect(result.current.uri).toBe(
				"example.com/#/?coin=ARK&method=transfer&network=ark&recipient=D8rr7B1d6TL6pf14LgMz4sKp1VBMs6YUYD",
			),
		);

		expect(result.current.image).toBe(
			"data:image/png;base64,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",
		);
	});

	it("should return undefined if address is not provided", async () => {
		const { result, waitForNextUpdate } = renderHook(() => useQRCode({ network: "ark" } as any));

		await waitForNextUpdate();

		await waitFor(() => expect(result.current.uri).toBeUndefined());
		await waitFor(() => expect(result.current.image).toBeUndefined());
	});
});
